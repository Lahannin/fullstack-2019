(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(14),u=t.n(c),l=t(4),o=t(3),i=function(e){var n=e.handleInputChange;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"filter"},"Filter shown with"),r.a.createElement("input",{type:"text",id:"filter",name:"filter",onChange:n}))},m=function(e){return r.a.createElement("form",{onSubmit:e.onSubmit},r.a.createElement("label",{htmlFor:"name"},"Name: "),r.a.createElement("input",{type:"text",id:"name",name:"name",onChange:e.handleInputChange,required:!0}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"number"},"Number: "),r.a.createElement("input",{type:"tel",id:"number",name:"number",onChange:e.handleInputChange,required:!0}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Add"))},s=function(e){var n=Object(l.a)(e.persons);e.filter&&(n=n.filter(function(n){return n.name.toLowerCase().includes(e.filter)}));var t=n.map(function(n){return r.a.createElement("li",{key:n.name},n.name," ",n.number," ",r.a.createElement("button",{id:n.id,type:"button",onClick:function(n){return e.removeNumber(Number(n.target.id))}},"remove"))});return r.a.createElement("ul",null,t)},d=function(e){var n=e.notificationSettings,t={border:"5px solid ".concat("success"===n.style?"green":"red"),backgroundColor:" #bfc9ca",paddingLeft:"5px",color:"success"===n.style?"green":"red",fontWeight:"bold"};return n.message?r.a.createElement("div",{style:t},r.a.createElement("p",null,n.message)):r.a.createElement("div",null)},f=t(2),b=t.n(f),h="/api/persons",p=function(){return b.a.get(h)},g=function(e){return b.a.post(h,e)},E=function(e){return b.a.delete("".concat(h,"/").concat(e))},v=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],u=Object(a.useState)({name:null,phone:null}),f=Object(o.a)(u,2),b=f[0],h=f[1],v=Object(a.useState)(null),w=Object(o.a)(v,2),y=w[0],C=w[1],j=Object(a.useState)({message:null,style:null}),O=Object(o.a)(j,2),k=O[0],S=O[1];Object(a.useEffect)(function(){p().then(function(e){c(e.data)}).catch(function(e){throw e})},[]);var I=function(e,n,t){S({message:e,style:t}),setTimeout(function(){S({message:null,style:null})},1e3*n)},x=function(e){switch(e.target.name){case"name":h({name:e.target.value,number:b.number});break;case"number":h({name:b.name,number:e.target.value});break;case"filter":C(e.target.value.toLowerCase());break;default:console.error("Jokin meni nyt pieleen!")}};return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(d,{notificationSettings:k}),r.a.createElement("h2",null,"Add new number"),r.a.createElement(m,{onSubmit:function(e){e.preventDefault(),t.some(function(e){return e.name===b.name})||g(b).then(function(e){201===e.status?p().then(function(e){c(e.data),I("Added ".concat(b.name),3,"success")}):I("Something odd happened while adding ".concat(b.name,". HTTP response was ").concat(e.status," when 201 was expected"),5,"failure")}).catch(function(e){console.error(e),I("Failed to add ".concat(b.name,". Error code ").concat(e.status),5,"failure")})},handleInputChange:x}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(i,{handleInputChange:x}),r.a.createElement(s,{persons:t,filter:y,removeNumber:function(e){var n=t.findIndex(function(n){return n.id===e});window.confirm("Are you sure? ".concat(t[n].name," might get upset..."))&&E(e).then(function(){var e=Object(l.a)(t),a=e.splice(n,1);I("Removed ".concat(a[0].name),3,"success"),c(e)}).catch(function(e){console.error(e),I("Information of ".concat(t[n].name," has already been removed from the server. Please refresh the page."),5,"failure")})}}))};u.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.4d7e6048.chunk.js.map